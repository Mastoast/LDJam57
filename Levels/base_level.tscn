[gd_scene load_steps=25 format=4 uid="uid://brtkqmlu6ql84"]

[ext_resource type="Script" uid="uid://34prymo77uoe" path="res://Levels/base_level.gd" id="1_2kef7"]
[ext_resource type="PackedScene" uid="uid://cmbe6p5xvc2kp" path="res://Player/music_listener.tscn" id="3_n4mxg"]
[ext_resource type="PackedScene" uid="uid://cirkva4eojwhw" path="res://Player/player.tscn" id="3_ruyyf"]
[ext_resource type="PackedScene" uid="uid://bjpcwi3pflktf" path="res://Levels/map.tscn" id="6_6jk1m"]
[ext_resource type="Texture2D" uid="uid://crvoofbojx1ae" path="res://Assets/Textures/lightGradient.tres" id="6_j3xrb"]
[ext_resource type="Material" uid="uid://cpd1lmu1c45sj" path="res://Assets/Materials/sonar2D.tres" id="7_jg3su"]
[ext_resource type="Texture2D" uid="uid://20yxdlcmgsxg" path="res://Assets/Textures/map/map_fond.png" id="7_npxkb"]
[ext_resource type="Texture2D" uid="uid://cc0u75l8x3m0n" path="res://Assets/Textures/circle for particle.png" id="8_npxkb"]
[ext_resource type="Script" uid="uid://qqfhydc5ltjf" path="res://Levels/meshScan.gd" id="9_6jk1m"]
[ext_resource type="Texture2D" uid="uid://b51yi2sl2icsl" path="res://Assets/Textures/skyGradient.tres" id="11_6jk1m"]
[ext_resource type="PackedScene" uid="uid://dyg5ow1ayujjf" path="res://save background objets placement/back_objects.tscn" id="12_wf03h"]
[ext_resource type="PackedScene" uid="uid://iwcd2o8485vw" path="res://save background objets placement/back_objects_2.tscn" id="13_2ed4s"]
[ext_resource type="AnimationLibrary" uid="uid://g7b4r3bg5pd6" path="res://Animations/base_level.res" id="13_wf03h"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_n4mxg"]
light_mode = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6jk1m"]
size = Vector2(925, 402)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2kef7"]
size = Vector2(859.5, 364.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wf03h"]
size = Vector2(579.5, 430)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2ed4s"]
size = Vector2(825, 694)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mqdjw"]
size = Vector2(1569.5, 703)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ealwv"]
size = Vector2(1075.56, 890.875)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4mi1v"]
size = Vector2(5374, 2090)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8ftg7"]
size = Vector2(5374, 2461)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x3nl1"]
size = Vector2(5374, 2543)

[sub_resource type="ArrayMesh" id="ArrayMesh_2kef7"]
_surfaces = [{
"2d": true,
"aabb": AABB(-199, -200.5, 0, 398, 401, 0),
"attribute_data": PackedByteArray("KSDhPgAAAABgbtE+cm6jO77/yj5ybqM7sNG7PqoldTyFarY+qiV1PPJnpD6qJfU8GUqgPqol9Txyt50+owAPPWb8mT6jAA89hdSCPqoldT3dQYA+qiV1PYHuaz6LN5k9VYdmPos3mT3XFEU+gmXRPautPz6CZdE9XYg6Pty34D3rpDU+3LfgPXh6DD6LNxk+oFwIPos3GT6gXAg+OtsfPi2l6j3MwDI+fWniPczAMj59aeI9fGQ5PkI12z2z9zw+kfnSPbP3PD6R+dI9Y5tDPlbFyz2aLkc+ponDPZouRz6micM9StJNPmtVvD2CZVE+pyi2PYJlUT4K3qs9aZxbPry4pj1pnFs+lrOCPdjOfD6PHHs92M58Pgp9Hj2u8Jc++CoTPa7wlz4b8tE85YmoPuFcvTzliag+DLsDPHd1yD5/5aw7d3XIPgy7gzn/cN8+AAAAAE4sET/PqaQ7gMoWP8+ppDup+xk/t/52PCaEIT+3/nY8kDIkP7f+9jxCEi0/t/72POYMLz+3/nY9Kcw9P7f+dj1eIz8/DLuDPdwoQD/k2Ic93ChAP0fvij367EA/R++KPYZUQj/PqaQ9xRhGP8+ppD36b0c/fWniPQRgUD99aeI94aZRP6BcCD5UwlY/oFwIPokZWD+7GTQ+qpxhP7sZND4oomI/Oso6PiiiYj9XZD4+9YZjP1dkPj5zjGQ/1xRFPnOMZD/0rkg+QHFlP/SuSD6+dmY/dF9PPr52Zj+R+VI+jFtnP5H5Uj6qH2g/JPxkPmStaj8k/GQ+01BrP98VmT5L5HQ/3xWZPhKYdT8OY7U+FxB6Pw5jtT7cw3o/6mbQPpZRfT/qZtA+XQV+Pykg4T7LqH4/KSDhPpJcfz8PbPQ+klx/Pw9s9D4AAIA//Hr2PgAAgD9w2gU/klx/P2OADz+SXH8/eu0XP0ZyfT/LJBs/RnJ9P9K7Ij+M5Ho/aG8lP4zkej+ycC4/9g93P51/MD/2D3c/8cgxPxnJdT92pjM/Gcl1P2c6Pz/IZm8/u4NAP8hmbz8JqUU/MpJrP9QCRz8ykms/dF9PP3OMZD8/uVA/c4xkP5MCUj8oomI/bztTPyiiYj+9YFg/RuNcP4i6WT9G41w/BFBjP/AIUj96V2Q/8AhSP3pXZD8EYFA/AT5lPzZ7Tz94RWY/NntPP3hFZj9K0k0//ytnP3ztTD91M2g/fO1MP3UzaD+QREs//BlpP8NfSj+V32k/w19KPzxybD++50U/5hZtP77nRT83TnA/bYU/P+HycD9thT8/2bx2P8zAMj/7cXc/zMAyPxYDfD9PtSQ/wKd8P0+1JD9nOn8/P00XPwAAgD8/TRc/AACAP9yx0z6vyHw/mii6Pq/IfD8nDbU+tOx4PxMtoz607Hg/HBefPmCjdz9iiZw+YKN3P3vVmD6+NHE/RLmBPr40cT8UV34+SC1wPx5Bej6OqW8/HkF6PsFGbz+mMHc+wUZvP3OScT5wD2w/GEBiPnAPbD+lJF0+eldkPx0jOT56V2Q/CEk0PoKNXj/bmR8+go1eP2d+Gj47nlM/CmHoPTueUz/ct+A9G/JRP9y34D2UC1E/bZHZPZQLUT+CZdE9dF9PP4Jl0T3teE4/Ez/KPe14Tj8nE8I9zcxMPycTwj1F5ks/uOy6PUXmSz/Iy7Q9oWVHPzrbnz2hZUc/hUKbPbsZND+ATR09uxk0PxwREj0bvSs/BGDQPBu9Kz828rs8hqgbP5ZR/TuGqBs/XZqrO5UUED/BvoI5"),
"format": 34393296913,
"index_count": 489,
"index_data": PackedByteArray("AACkAKMAogChAKAAoACfAJ4AngCdAJwAnACbAJoAmQCYAJcAlgCVAJQAkwCSAJEAkQCQAI8AjwCOAI0AjQCMAIsAiwCKAIkAiACHAIYAhQCEAIMAgwCCAIEAgQCAAH8AfwB+AH0AfAB7AHoAegB5AHgAeAB3AHYAdgB1AHQAdABzAHIAcQBwAG8AbgBtAGwAawBqAGkAaQBoAGcAZwBmAGUAZQBkAGMAYwBiAGEAYQBgAF8AXwBeAF0AXQBcAFsAWwBaAFkAWQBYAFcAVwBWAFUAVQBUAFMAUgBRAFAAUABPAE4ATgBNAEwATABLAEoASgBJAEgASABHAEYARQBEAEMAQgBBAEAAPwA+AD0APQA8ADsAOwA6ADkAOQA4ADcANwA2ADUANAAzADIAMQAwAC8ALwAuAC0ALQAsACsAKwAqACkAKQAoACcAJwAmACUAJQAkACMAIwAiACEAIQAgAB8AHwAeAB0AHAAbABoAGQAYABcAFgAVABQAEwASABEAEQAQAA8ADwAOAA0ADQAMAAsACwAKAAkACQAIAAcABwAGAAUABQAEAAMAAwACAAEAAQAAAKMAogCgAJ4AngCcAJoAmQCXAJYAlgCUAJMAkwCRAI8AjwCNAIsAiwCJAIgAiACGAIUAhQCDAIEAgQB/AH0AfAB6AHgAeAB2AHQAdAByAHEAcQBvAG4AbgBsAGsAawBpAGcAZwBlAGMAYwBhAF8AXwBdAFsAWwBZAFcAVwBVAFMAUgBQAE4ATgBMAEoASgBIAEYARQBDAEIAQgBAAD8APwA9ADsAOwA5ADcANwA1ADQANAAyADEAMQAvAC0ALQArACkAKQAnACUAJQAjACEAIQAfAB0AHAAaABkAGQAXABYAFgAUABMAEwARAA8ADwANAAsACwAJAAcABwAFAAMAAwABAKMAogCeAJoAlgCTAI8AjwCLAIgAiACFAIEAgQB9AHwAfAB4AHQAbgBrAGcAZwBjAF8AXwBbAFcAVwBTAFIAUgBOAEoASgBGAEUAQgA/ADsAOwA3ADQANAAxAC0ALQApACUAJQAhAB0AGQAWABMAEwAPAAsACwAHAAMAAwCjAKIAogCaAJkAmQCWAI8AjwCIAIEAgQB8AHQAcQBuAGcAZwBfAFcAVwBSAEoASgBFAEIAQgA7ADQANAAtACUAJQAdABwAHAAZABMAEwALAAMAAwCiAJkAmQCPAIEAgQB0AHEAcQBnAFcAVwBKAEIAQgA0ACUAJQAcABMAEwADAJkAmQCBAHEAcQBXAEIAQgAlABMAEwCZAHEAcQBCABMA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 165,
"vertex_data": PackedByteArray("AADAwQCASMPMzBDCAIBGw8zMJMIAgEbDAABUwgCAQsPMzGTCAIBCw2ZmjsIAgDzDzcyUwgCAPMPNzJjCAIA6w5qZnsIAgDrDmpnCwgCAMMOamcbCAIAww5qZ1sIAgCrDzczawgCAKsPNzPTCAIAfwwAA+cIAgB/DAAD9wgCAHMNmZgDDAIAcw2ZmEMMAgAzDAAASwwCADMMAABLDZuYJw2ZmGcMAgALDAAAbwwCAAsMAABvDzcz/wmZmHMMAAP3CAAAewwAA/cIAAB7Dzcz3wmZmH8MAAPXCAAAhwwAA9cIAACHDzczvwmZmIsMAAO3CmpkjwwAA7cKamSXDAADlwpqZJsMAAOXCmpktwwAAy8KamS7DAADLwpqZN8MAAKPCM7M4wwAAo8LNzDzDAACJws3MPcMAAInCzcxDwwAALsJm5kTDAAAuwmbmRsMAAMzBAABHwzAz10EAAEXDzMwOQgAARcPMzCJCAABBwwAAUkIAAEHD0MxiQgAAO8M0M41CAAA7w2hmk0IAAC/DmJnBQgAAL8PMzMVCZmYtwwAAyUKamSzDAADJQgAALMNoZstCAAAsw8zMz0IAACfDmJnbQgAAJ8PMzN9CAAAbw8zM+0IAABvDzMz/QgAAEsNm5gdDAAASwwAACkMAAAHDZuYYQwAAAcMAgBpDzcz8wgCAGkMAAPrCZuYbQwAA+sIAgB1Dzcz0wgCAHUMAAPLCZuYeQwAA8sIAgCBDzczswgCAIEMAAOrCZuYhQwAA6sKaGSNDAADcwpoZJ0MAANzCmhkoQwAAoMKaGTdDAACgwjQzOEMAAGjCNDM/QwAAaMLMTEBDAAAUwsxMREMAABTCZmZFQwAAwMFmZkZDAADAwQCAR0MAABDBAIBHQwAAEMEAgEhDwMzswACASEOgmRFBAIBHQ9DMwEEAgEdDzMwUQgCAREPMzChCAIBEQwAAWEIAgEBD0MxoQgCAQENoZpBCAIA6Q8zMlkIAgDpDzMyaQgCAOEOYmaBCAIA4Q5iZxEIAgC5DmJnIQgCALkOYmdhCAIAoQ8zM3EIAgChDzMz2QgCAHUMAAPtCAIAdQwAA/0IAgBpDZmYBQwCAGkNmZglDAIARQwCAC0MAgBFDZmYaQwCAAEMAABxDAIAAQwAAHEPMzPtCZmYdQwAA+UIAAB9DAAD5QgAAH0PMzPNCZmYgQwAA8UIAACJDAADxQgAAIkPMzOtCZmYjQwAA6UKamSRDAADpQpqZKEMAANtCmpkpQwAA20KamS5DAADHQpqZL0MAAMdCmpk4QwAAn0I0szlDAACfQszMQEMAAGZCzMxBQwAAZkLMzEVDAAASQgAAR0MAABJCAABHQ8zMCsIAAEJDzMxawgAAQkPMzGrCAAA8Q2ZmkcIAADxDzcyXwgAAOkPNzJvCAAA6Q5qZocIAADBDzczFwgAAMEPNzMnCZmYuQwAAzcKamS1DAADNwgAALUNmZs/CAAAtQ83M08IAAChDzczfwgAAKEPNzOPCAAAcQwAAAMMAABxDZuYBwwAAE0MAAArDAAATQwAADMMAAAJDAAAbwwAAAkMAgBzDzMz+QgCAHMMAAPxCZuYdwwAA/EIAgB/DzMz2QgCAH8MAAPRCZuYgwwAA9EIAgCLDzMzuQgCAIsMAAOxCZuYjwwAA7EKaGSXDAADeQjMzKcMAAN5CmhkqwwAAokKaGTnDAACiQjMzOsMAAIhCzUw+wwAAiELNTD/DAAAsQmZmRcMAACxCZmZGwwAAyEFmZkjD")
}]

[node name="BaseLevel" type="Node2D"]
material = SubResource("CanvasItemMaterial_n4mxg")
script = ExtResource("1_2kef7")

[node name="DialogueAudioStreamPlayer" type="AudioStreamPlayer2D" parent="."]
position = Vector2(0, -144)
playback_type = 1

[node name="Dialogue boxes" type="Node" parent="."]

[node name="Dialogue 2 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 2 trigger"]
position = Vector2(-72.5, 764)
shape = SubResource("RectangleShape2D_6jk1m")

[node name="Dialogue 3 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 3 trigger"]
position = Vector2(-45, 1612.13)
shape = SubResource("RectangleShape2D_2kef7")

[node name="Dialogue 4 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 4 trigger"]
position = Vector2(3295, 2238)
shape = SubResource("RectangleShape2D_wf03h")

[node name="Dialogue 5 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 5 trigger"]
position = Vector2(2321.5, 3736)
shape = SubResource("RectangleShape2D_2ed4s")

[node name="Dialogue 6 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 6 trigger"]
position = Vector2(2067.5, 4699.5)
shape = SubResource("RectangleShape2D_mqdjw")

[node name="Dialogue 7 trigger" type="Area2D" parent="Dialogue boxes"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dialogue boxes/Dialogue 7 trigger"]
position = Vector2(87.2188, 6805.44)
shape = SubResource("RectangleShape2D_ealwv")

[node name="ColorChange" type="Node" parent="."]

[node name="Area2D" type="Area2D" parent="ColorChange"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ColorChange/Area2D"]
position = Vector2(1416, 1610)
shape = SubResource("RectangleShape2D_4mi1v")

[node name="Area2D2" type="Area2D" parent="ColorChange"]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="ColorChange/Area2D2"]
position = Vector2(1416, 3885.5)
shape = SubResource("RectangleShape2D_8ftg7")

[node name="Area2D3" type="Area2D" parent="ColorChange"]

[node name="CollisionShape2D3" type="CollisionShape2D" parent="ColorChange/Area2D3"]
position = Vector2(1416, 6387.5)
shape = SubResource("RectangleShape2D_x3nl1")

[node name="MusicListener" parent="." instance=ExtResource("3_n4mxg")]
player_dash = 1.0
player_big_dash = 2.0

[node name="Sky" type="Sprite2D" parent="."]
light_mask = 2
use_parent_material = true
position = Vector2(40, -373)
rotation = 1.5708
scale = Vector2(30, 50)
texture = ExtResource("11_6jk1m")

[node name="EntranceLight" type="PointLight2D" parent="."]
position = Vector2(-185.577, -326.482)
rotation = 1.5708
scale = Vector2(3.66947, 2.32391)
energy = 2.5
blend_mode = 2
range_item_cull_mask = 2
shadow_enabled = true
shadow_item_cull_mask = 3
texture = ExtResource("6_j3xrb")
texture_scale = 20.0

[node name="Player" parent="." instance=ExtResource("3_ruyyf")]
position = Vector2(0, -144)
baseDashForce = 200.0

[node name="Map" parent="." instance=ExtResource("6_6jk1m")]

[node name="BackObjects" type="Parallax2D" parent="."]
modulate = Color(1, 1, 1, 0.490196)
z_index = -1
material = ExtResource("7_jg3su")
scroll_scale = Vector2(0.7, 0.7)
script = ExtResource("9_6jk1m")

[node name="Sprite2D" type="MeshInstance2D" parent="BackObjects"]
use_parent_material = true
position = Vector2(136, 1015.5)
mesh = SubResource("ArrayMesh_2kef7")
texture = ExtResource("8_npxkb")

[node name="Sprite2D2" type="MeshInstance2D" parent="BackObjects"]
use_parent_material = true
position = Vector2(-17, 1150)
mesh = SubResource("ArrayMesh_2kef7")
texture = ExtResource("8_npxkb")

[node name="Parallax2D" type="Parallax2D" parent="."]
light_mask = 7
visibility_layer = 7
z_index = -2
use_parent_material = true
scroll_scale = Vector2(0.666, 0.666)

[node name="GrottoBackParallaxSonar" type="Sprite2D" parent="Parallax2D"]
modulate = Color(1, 1, 1, 0.337255)
light_mask = 4
z_index = -2
use_parent_material = true
position = Vector2(828, 2245)
scale = Vector2(2, 2)
texture = ExtResource("7_npxkb")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"base_level": ExtResource("13_wf03h")
}

[node name="BackObjects2" parent="." instance=ExtResource("12_wf03h")]

[node name="BackObjects3" parent="." instance=ExtResource("13_2ed4s")]

[connection signal="emit_big_sonar" from="MusicListener" to="Player" method="_onBigSonar"]
[connection signal="emit_little_sonar" from="MusicListener" to="Player" method="_onSonar"]
[connection signal="move_ship" from="MusicListener" to="Player" method="_dash"]

[editable path="Map"]
